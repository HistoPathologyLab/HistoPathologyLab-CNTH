<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home - Histopathology Lab System</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"> <!-- Font Awesome for icons -->
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
            display: flex;
            height: 100vh;
            overflow: hidden;
        }
        .sidebar {
            background-color: darkblue;
            width: 250px; /* Fixed width for the sidebar */
            color: white;
            display: flex;
            justify-content: flex-start;
            align-items: center;
            flex-direction: column;
            padding-top: 20px;
            padding-left: 15px;
            padding-right: 15px;
            overflow-y: auto;
            position: fixed; /* Ensure the sidebar stays fixed */
            height: 100vh;
        }
        .sidebar h1 {
            font-size: 24px;
            font-weight: bold;
            margin: 0;
            text-align: center;
        }
        .sidebar h2 {
            font-size: 16px;
            font-weight: normal;
            margin: 0;
            text-align: center;
        }
        .sidebar-item {
            font-family: 'Congenial', sans-serif;
            font-size: 14px;
            padding: 15px 20px;
            cursor: pointer;
            width: 100%;
            text-align: left;
            margin-left: 10px;
        }
        .sidebar-item.bold {
            margin-top: 30px;
            font-weight: bold;
        }
        .sidebar-item:hover {
            background-color: #004080;
        }
        .bold {
            font-weight: bold;
        }
        .divider {
            width: 90%;
            border: 1px solid white;
            margin: 20px 0;
        }
        .content {
            flex-grow: 1;
            background-color: white;
            display: flex;
            flex-direction: column;
            margin-left: 250px; /* Add margin to accommodate the fixed sidebar */
            overflow-y: auto;
            height: 100vh;
            width: calc(100% - 250px);
            position: relative; /* Needed for absolute positioning of button */
        }
        .top-bar {
            background-color: white;
            height: 10%;
            display: flex;
            align-items: center;
            justify-content: center; /* Center the content */
            padding: 0 20px;
            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
            position: relative;
            overflow-x: auto; /* Enable horizontal scrolling */
            white-space: nowrap; /* Prevent text wrapping */
            margin-left: 30px;
        }
        .logo {
            height: 80%;
            position: absolute; /* Position the logo absolutely */
            left: 50%; /* Center horizontally */
            transform: translateX(-50%); /* Adjust for true centering */
        }
        .datetime {
            color: darkblue;
            text-align: right;
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            position: absolute; /* Add this line */
            right: 20px; /* Adjust margin to create space */
            white-space: nowrap;
        }
        .datetime .time {
            font-size: 16px;
            font-weight: bold;
        }
        .datetime .date {
            font-size: 12px;
        }
        .main-content {
            flex-grow: 1;
            padding: 20px;
            overflow-x: auto; /* Ensure main content can scroll horizontally */
            position: relative; /* Needed for absolute positioning of button */
        }
        .menu-button {
            display: none; /* Initially hidden */
        }
        .search-button {
            background-color: darkblue;
            color: white;
            border: none;
            padding: 10px 20px;
            cursor: pointer;
            margin-top: 10px; /* Adjust the margin to position the button below the white bar */
            margin-bottom: 20px; /* Add some bottom margin for spacing */
            margin-left: auto; /* Align the button to the right */
            margin-right: auto; /* Align the button to the left */
            display: block; /* Make the button a block element to center it */
        }

        .search-button:hover {
            background-color: #004080;
        }
        .search-button i {
            margin-left: 5px;
        }

        @media (max-width: 768px) {
            /* Styles for smaller screens */
	}

	@media (max-width: 480px) {
            /* Styles for very small screens */
        }

        @media (max-width: 320px) and (orientation: portrait) {
            /* Styles for 320px screens */
        }
        </style>
    </head>
    <body>
        <div class="sidebar" id="sidebar">
            <h1>ReportLab</h1>
            <h2>CNTH</h2>
            <hr class="divider"> <!-- Divider line added here-->
            <div class="sidebar-item bold" id="home-link">Home</div>
            <div class="sidebar-item">Histo Reports Summary</div>
            <div class="sidebar-item">FNAC Reports Summary</div>
            <div class="sidebar-item">Cyto Reports Summary</div>
            <div class="sidebar-item">US guided FNAC Reports Summary</div>
            <div class="sidebar-item">ERPR Reports</div> <!-- New sidebar item added here-->
            <div class="sidebar-item">Cancer Reports</div>
            <div class="sidebar-item">Pending Reports</div>
            <div class="sidebar-item">Reports to Print</div>
            <div class="sidebar-item">Add Consultant / Registrar (Dr.)</div>
            <div class="sidebar-item bold" id="logout">Log out</div>
        </div>
        <div class="content" id="content">
            <div class="top-bar">
                <button class="menu-button" id="menu-button">&#9776;</button>
                <img src="https://raw.githubusercontent.com/HistoPathologyLab/HistoPathologyLab-CNTH/main/Logo%202%20Histopathology%20Lab.png" alt="Histopathology Lab Logo" class="logo">
                <div class="datetime" id="datetime">
                    <div class="time" id="time"></div>
                    <div class="date" id="date"></div>
                </div>
            </div>
            <button id="search-button" class="search-button">Search Reports <i class="fas fa-search"></i></button> <!-- Added search button here -->
        </div>

        <script>
            // Function to update time and date
            function updateTime() {
                const timeElement = document.getElementById('time');
                const dateElement = document.getElementById('date');
                const now = new Date();

                // Time options
                const timeOptions = {
                    hour: '2-digit',
                    minute: '2-digit',
                    second: '2-digit'
                };

                // Date options
                const dateOptions = {
                    weekday: 'long',
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                };

                const formattedTime = now.toLocaleTimeString('en-US', timeOptions);
                const formattedDate = now.toLocaleDateString('en-US', dateOptions);

                timeElement.textContent = formattedTime;
                dateElement.textContent = formattedDate;
            }

            // Update time and date every second
            setInterval(updateTime, 1000);
            updateTime(); // Initial call to display immediately

            // Function to check if the user is logged in
            function checkSession() {
                const isLoggedIn = sessionStorage.getItem('isLoggedIn');
                if (!isLoggedIn) {
                    window.location.href = 'index.html';
                }
            }

            // Call checkSession on page load
            window.onload = checkSession;

            // Log out functionality
            document.getElementById('logout').addEventListener('click', function() {
                sessionStorage.removeItem('isLoggedIn');
                window.location.href = 'index.html';
            });

            // Reload home.html when the Home item is clicked
            document.getElementById('home-link').addEventListener('click', function() {
                window.location.href = 'home.html';
            });

            // Toggle sidebar visibility for mobile
            const menuButton = document.getElementById('menu-button');
            const sidebar = document.getElementById('sidebar');

            menuButton.addEventListener('click', function() {
                sidebar.classList.toggle('visible');
            });

            // Close the sidebar when clicking outside of it
            document.addEventListener('click', function(event) {
                if (!sidebar.contains(event.target) && event.target !== menuButton) {
                    sidebar.classList.remove('visible');
                }
            });

            // Search button functionality
            document.getElementById('search-button').addEventListener('click', function() {
                // Add your search action here
                // For now, let's just log a message
                console.log('Search button clicked');
            });
        </script>
    </body>
</html>